<mat-tab-group *ngIf="isLocationExist" style="font-family: 'Montserrat', 'Helvetica Neue', Arial, sans-serif;">

    <mat-tab>
        <ng-template mat-tab-label>
            <i class="fas fa-plus"><span
                    style="font-family: 'Montserrat', 'Helvetica Neue', Arial, sans-serif;"></span></i>
        </ng-template>
        <div class="col-md-12">
            <div class="card card-user">
                <div class="card-header">
                    <h5 class="card-title"><i class="far fa-edit"></i>&nbsp;Add new menu
                    </h5>
                </div>
                <div class="card-body">
                    <form [formGroup]="menuForm" (ngSubmit)="onSubmitMenu()">
                        <div class="row">
                            <div class="col-md-7">
                                <div class="form-group">
                                    <label>Menu Name</label>
                                    <input Title="Title" type="text" formControlName="Title" class="form-control"
                                        [ngClass]="{ 'is-invalid': submitted && f.Title.errors }" placeholder="Title" />
                                    <div *ngIf="submitted && f.Title.errors" class="invalid-feedback">
                                        <div *ngIf="f.Title.errors.required">Title is required</div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-5">
                                <div class="form-group">
                                    <label>Remark</label>
                                    <select formControlName="IconId" class="form-control"
                                        [ngClass]="{ 'is-invalid': submitted && f.IconId.errors }" placeholder="Remark">
                                        <option value="" selected disabled hidden>Choose a remark...</option>
                                        <option *ngFor="let icon of icons" value="{{icon.Id}}">

                                            <div class="row">
                                                <div class="col-md-1">
                                                    <i class="{{icon.Value}}"></i>
                                                </div>
                                                <div class="col-md-10">
                                                    {{icon.Description}}
                                                </div>
                                            </div>
                                    </select>
                                    <div *ngIf="submitted && f.IconId.errors" class="invalid-feedback">
                                        <div *ngIf="f.IconId.errors.required">Remark is required</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label>Description</label>
                                    <input Title="Info" type="text" formControlName="Info" class="form-control"
                                        [ngClass]="{ 'is-invalid': submitted && f.Info.errors }" placeholder="Info" />
                                    <div *ngIf="submitted && f.Info.errors" class="invalid-feedback">
                                        <div *ngIf="f.Info.errors.required">Info is required</div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <button type="submit" class="btn btn-primary">Save menu</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </mat-tab>

    <mat-tab *ngFor="let menu of menus">
        <ng-template mat-tab-label>
            <i class="{{menu.Icon.Value}}"><span
                    style="font-family: 'Montserrat', 'Helvetica Neue', Arial, sans-serif;">{{menu.Title}}</span></i>
        </ng-template>
        <div class="col-md-12">
            <div class="card card-user">
                <div class="card-header">
                    <h5 class="card-title" style="font-size: 1.3em;">{{menu.Info}}</h5>
                </div>
                <div class="card-body">
                    <table>
                        <tbody>
                            <tr *ngFor="let item of menu.MenuItems">
                                <td width="40%">
                                    <div class="row">
                                        <div class="item text-center col-md-12" style="margin-top: 1rem;">
                                            <img style="max-height: 8rem; width: auto;"
                                                src="{{serverUrl}}{{item.Photo.Value}}" />
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="item text-center col-md-12" style="margin-top: 1rem;">
                                            <ngb-rating [(rate)]="item.Rate" [readonly]="true"></ngb-rating>
                                        </div>
                                    </div>
                                </td>
                                <td width="50%">
                                    <div class="row">
                                        <div class="item text-center col-md-12">
                                            <span>{{item.Title}}</span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="item text-center col-md-12">
                                            <span>{{item.Price}} BYN</span>
                                        </div>
                                    </div>
                                </td>
                                <td width="10%">
                                    <div class="row">
                                        <div class="item text-center col-md-12">
                                            <button type="submit" class="btn btn-primary" title="Show details"><i
                                                    class="fas fa-info-circle"></i></button>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="item text-center col-md-12">
                                            <button type="submit" class="btn btn-primary" title="Edit"><i
                                                    class="fas fa-pen"></i></button>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="item text-center col-md-12">
                                            <button type="submit" class="btn btn-primary" title="Delete"><i
                                                    class="far fa-trash-alt"></i></button>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </mat-tab>

</mat-tab-group>


<div *ngIf="!isLocationExist" class="col-md-12">
    <div class="card-header">
        <h5 style="opacity:0.7" class="card-title">Before this you have to register your business location <a
                href="/#/dashboard-manager/location"><i>here</i></a></h5>
    </div>
</div>